import{ac as Pe,E as Ye,ad as ke,ae as Se,V as Te,ak as ze,ap as Le,j as $,aq as W,M as ee,w as M,P,an as Ve,h as z,r as te,O as ne,ar as oe,s as Re,as as ae,al as Ne,S as re,at as Be,au as Oe}from"./OrbitControls-stecVo81.js";import{g as se}from"./index-35H_NU9g.js";import{d as Ae,r as L,o as De,c as ie,a as V,b as ce,e as le,h as Ee,F as We,i as Ge,l as He,j as de,k as ue}from"./index-E9fv5Zel.js";var Ue=`out vec2 vertexUV;\r
out vec3 vectorNormal;

void main(){\r
    vectorNormal= normalize(normalMatrix*normal);\r
    vertexUV= uv;\r
    gl_Position=projectionMatrix * modelViewMatrix* vec4(position,1.0);

}`,Fe=`uniform sampler2D globeTexture;\r
in vec2 vertexUV;\r
in vec3 vectorNormal;

void main(){\r
    float intensity = 1.05 - dot(vectorNormal,vec3(0.0,0.0,1.0));\r
    vec3 atmosphere = vec3(0.3,0.6,1.0)*pow(intensity,1.5);\r
    gl_FragColor=vec4(\r
        atmosphere+ texture2D(globeTexture,vertexUV).xyz\r
        ,1.0);\r

}`,Ie=`out vec3 vectorNormal;

void main(){\r
    vectorNormal= normalize(normalMatrix*normal);\r
    gl_Position=projectionMatrix * modelViewMatrix* vec4(position,0.9);

}`,Ze=`in vec3 vectorNormal;

void main(){\r
    float intensity =pow(0.5 - dot(vectorNormal,vec3(0.0,0.0,1.0)),2.0);\r
    gl_FragColor=vec4(0.59, 0.84, 0.99, 1.0)*intensity;

}`;const h="/assets/stars-y28bBY_5.jpg",qe="/assets/sun-rrZmvC1y.jpg",Ke="/assets/mercury-aPlHucWy.jpg",Qe="/assets/venus-VdB7Y_cM.jpg",me="/assets/earth-HtNsPeOZ.jpg",Xe="/assets/mars-_EbILyjf.jpg",Je="/assets/jupiter-EnSAYoVD.jpg",$e="/assets/saturn-0_CxZqOQ.jpg",et="/assets/saturn ring-dBAV3kmm.png",tt="/assets/uranus-Z_KP_4c-.jpg",nt="/assets/uranus ring-7UwjeARZ.png",ot="/assets/neptune-q2sbBCPV.jpg",at="/assets/pluto-wjlb4T6L.jpg",rt=V("div",{id:"universeContainer"},null,-1),st={key:0,class:"universeContainerContent"},it={class:"universeContainerContent_header"},ct=V("div",{class:"universeContainerContent_body"},"content",-1),lt={class:"universeContainerContent_footer"},vt=Ae({__name:"GalleryView",setup(dt){const pe=Ge(),R=L(!0),G=new Ve,t=new Pe,r=new Ye(45,window.innerWidth/window.innerHeight,.1,1e3),s=new ke({antialias:!0}),H=new Se(r,s.domElement);H.enableRotate=!1;let o,N,w=new Te,p=L(!0),B=L(!1),O=.5,A=L(!1),g,x,y,b,f,j,Y,i,k;function ve(){switch(o.name){case"jupiter":pe.push("/gallery_terrain");break}}function he(e,a,u,c,m){const _=new W(a,30,30),l=new ae({vertexShader:Ie,fragmentShader:Ze,uniforms:{},blending:Be,side:Oe}),n=new M(_,l);n.scale.set(1.1,1.1,1.1),n.name=e+"Atmosphere";const v=new ne;return v.add(n),m&&new oe(m.innerRadius,m.outerRadius,32),t.add(v),n.position.x=c.x,n.position.y=c.y,n.position.z=c.z,{mesh:n,obj:v}}const we=()=>{se.to(r.position,{duration:1.5,x:-90,y:140,z:140,ease:"power1.inOut",onUpdate:()=>{w.x=-1,w.y=-1,r.lookAt(new z(0,0,0))},onComplete:()=>{s.render(t,r),s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),A.value=!1,R.value=!0,p.value=!0,t.remove(g),g=void 0,t.remove(x),x=void 0,t.remove(y),y=void 0,t.remove(b),b=void 0,t.remove(f),f=void 0,t.remove(j),j=void 0,t.remove(i),i=void 0,t.remove(Y),Y=void 0,t.remove(k.mesh),t.remove(k.obj),k=void 0}})};function ge(e){w.x=e.clientX/window.innerWidth*2-1,w.y=-(e.clientY/window.innerHeight)*2+1,A.value?p.value=!1:p.value=!0}function xe(){R.value=!1,A.value=!0;let e=new z;if(o.getWorldPosition(e),o.geometry.parameters){const a=o.geometry.parameters.radius;console.log(o,o.position,e,a);let u=e,c=new z(0,0,0),m=new z().subVectors(c,u).normalize(),_=a*4,l=u.clone().add(m.multiplyScalar(_));console.log(l),Y=new Ne(a/2,a/2,.15,64);const n=new te({color:16777215});n.transparent=!0,n.opacity=.8,n.metalness=1,n.roughness=.1,n.aoMapIntensity=1,n.envMapIntensity=1,i=new M(Y,n),i.position.x+=e.x,i.position.y+=e.y-a*1.3,i.position.z+=e.z,i.castShadow=!1,i.receiveShadow=!0,t.add(i),g=new re(4294967056,1e4,1e9),g.position.set(e.x-a*3,e.y-a*1.3,e.z-a*3),t.add(g),x=new re(16777215,1e4,1e9),x.position.set(e.x+a*3,e.y-a*1.3,e.z+a*3),t.add(x),y=new P(16777215,1e4,1e9),y.position.set(e.x-a*1.5,e.y-a*1.3,e.z-a*1.5),t.add(y),b=new P(16777215,1e4,1e9),b.position.set(e.x+a*1.5,e.y-a*1.3,e.z+a*1.5),t.add(b),f=new P(16777215,1e3,1e9),f.position.set(e.x-2,e.y-10,e.z-2),t.add(f),j=new P(16777215,1e3,1e9),j.position.set(e.x+2,e.y-10,e.z+2),t.add(j),k=he("earth",a,me,e,void 0),se.to(r.position,{duration:2,x:l.x,y:l.y,z:l.z,ease:"power3.inOut",onUpdate:()=>{r.lookAt(e)}})}}return De(()=>{s.setSize(window.innerWidth,window.innerHeight);const e=document.getElementById("universeContainer");e==null||e.appendChild(s.domElement),r.position.set(-90,140,140),H.update();const a=new ze(3355443);t.add(a);const u=new Le;t.background=u.load([h,h,h,h,h,h]);const c=new $,m=new W(16,30,30),_=new ee({map:c.load(qe)}),l=new M(m,_);t.add(l);function n(d,D,fe,J,S){const je=new W(D,50,50),_e=new te({map:c.load(fe),transparent:!0}),C=new M(je,_e);C.material.opacity=.5,C.name=d;const T=new ne;if(T.add(C),S){const Ce=new oe(S.innerRadius,S.outerRadius,32),Me=new ee({map:c.load(S.texture),side:Re}),E=new M(Ce,Me);T.add(E),E.position.x=J,E.rotation.x=-.5*Math.PI}return t.add(T),C.position.x=J,{mesh:C,obj:T}}const v=n("mercury",3.2,Ke,28,void 0),U=n("venus",5.8,Qe,44,void 0),F=n("earth",7,me,62,void 0),I=n("mars",4,Xe,78,void 0),Z=n("jupiter",12,Je,100,void 0),q=n("saturn",10,$e,138,{innerRadius:10,outerRadius:20,texture:et}),K=n("uranus",7,tt,176,{innerRadius:7,outerRadius:12,texture:nt}),Q=n("neptune",7,ot,200,void 0),X=n("pluto",2.8,at,216,void 0),ye=new P(16777215,1e4,3e7);t.add(ye);function be(){l.rotateY(.004),v.mesh.rotateY(.004),U.mesh.rotateY(.002),F.mesh.rotateY(.02),I.mesh.rotateY(.018),Z.mesh.rotateY(.02),q.mesh.rotateY(.02),K.mesh.rotateY(.02),Q.mesh.rotateY(.02),X.mesh.rotateY(.008),p.value&&(v.obj.rotateY(.04),U.obj.rotateY(.015),F.obj.rotateY(.01),I.obj.rotateY(.008),Z.obj.rotateY(.002),q.obj.rotateY(9e-4),K.obj.rotateY(4e-4),Q.obj.rotateY(1e-4),X.obj.rotateY(7e-5)),G.setFromCamera(w,r);let d=[];if(d=G.intersectObjects(t.children),d.length>0&&p.value===!0)if(o){o.material=N,o.material.opacity=O,o.material.transparent=!0,o.material.wireframe=!1,console.log("Clicked object",d[0].object),p.value=!1,o=d[0].object,N=o.material,O=o.material.opacity,B.value=!0,o.material.opacity=1,o.material.transparent=!0;const D=new ae({vertexShader:Ue,fragmentShader:Fe,uniforms:{globeTexture:{value:new $().load(o.material.map.source.data.currentSrc)}}});o.material=D,xe()}else d[0].object.name!==""&&(console.log("Clicked object",d[0].object),o=d[0].object,N=o.material,O=o.material.opacity,B.value=!0,o.material.opacity=1,o.material.transparent=!0);else B.value=!1;s.render(t,r)}s.setAnimationLoop(be),e==null||e.addEventListener("resize",function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}),e==null||e.addEventListener("click",ge,!1)}),(e,a)=>{const u=He("n-button");return de(),ie(We,null,[rt,R.value?Ee("",!0):(de(),ie("div",st,[V("div",it,[ce(u,{type:"tertiary",onClick:we},{default:le(()=>[ue("Back To Universe")]),_:1})]),ct,V("div",lt,[ce(u,{type:"info",class:"nextBtn",onClick:ve},{default:le(()=>[ue("More Detail ")]),_:1})])]))],64)}}});export{vt as default};
